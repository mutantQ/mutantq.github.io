---
layout: post
title: "큐비트의 이해"
date: 2021-03-20 10:00:00 +0900
description: 양자컴퓨팅의 기본 단위 큐비트에 대한 이해 (작성 중)
tags: quantum-computing qubits physics korean draft
categories: quantum
published: false
---

*본 글은 인공지능을 활용하지 않고 작성된 글임을 알립니다.*

### Understanding Qubits

## 양자컴퓨터를 이해하고 싶다면 큐비트부터 이해하자

양자컴퓨터는 **양자물리학적 현상을 활용하여 정보를 처리하는 장치**이다. 리처드 파인만이 말했던 것처럼, 양자물리학을 제대로 이해한 사람은 "이 세상에 아무도 없다". 양자역학이 그토록 악명 높게 어려운데, 양자컴퓨터가 이해하기 쉽다고 말하면 그건 거짓말이다. 그렇지만 그 개념이 우리가 익히 아는 컴퓨터, 즉 "고전" 컴퓨터에 비해 조금은 어렵기에, 그 안에서 더욱 흥미진진한 논의를 시작할 수 있다. 이제부터 그 논의의 출발점인 큐비트(Qubit)에 대해 알아보자.

양자역학에 대해서 잘 모른다면 그래도 좋다. 하지만 벡터와 행렬, 복소수에 대해서는 잘 알아두어야 한다. 이왕이면 선형대수학을 알고 오는 것이 좋을 것이다.

## 큐비트 (Qubit)

일반적인 컴퓨터와는 달리, 양자컴퓨터에서는 정보처리의 기본 단위로 **큐비트(Qubit)**를 사용한다. 따라서 양자컴퓨터가 정확하게 무엇인지, 깊이있게 이해하기 위해서는 먼저 큐비트를 잘 이해해야 한다. 이것은 고전 컴퓨터를 이해하기 위해 이진수를 숙달해야 하는 것과 같은 이치이다.

큐비트는 양자 비트(Quantum Bit)의 줄임말로, **$0$ 또는 $1$이라고 부르는 두 상태의 양자역학적인 중첩(superposition)을 말한다.**  또한 측정(measurement)을 통해, 중첩 상태에서 벗어나 $0$ 또는 $1$ 중 하나의 값으로 결정된다. 엄밀하지는 않지만, 동전이 책상 위에서 빠르게 회전하고 있는 상황을 상상하고, 동전을 손바닥으로 내리쳐서 멈췄을 때 윗면이 동전의 앞면인지 뒷면인지 관찰하는 것처럼 이해하면 (초반에는) 도움이 된다.

양자컴퓨팅에서는 상태 $0$과 $1$을 조금 화려하게 $\ket0$과 $\ket1$로 쓰고, 읽을 때는 "켓 0", "켓 1"이라고 읽는다. 그리고 이들을 중첩시킬 때는 각각의 상태에 적절한 수를 곱해서 더하는 것으로 표현한다. 이런 식으로 말이다:

$$
\begin{equation*} \ket q=\alpha\ket0+\beta\ket1\end{equation*}
$$

이것이 선형대수학에서 자주 등장하는 선형 결합(linear combination)의 개념이다. 앞으로는 $\{\ket{0}, \ket{1}\}$을 서로 수직인 두 단위 벡터처럼 생각해주기를 바란다. 2차원 평면 상의 벡터 $\mathbf{v}$를 $x$축 방향 단위 벡터 $\mathbf{i}$와 $y$축 방향 단위 벡터 $\mathbf{j}$의 선형 결합 $\vec{v}=x\mathbf{i}+y\mathbf{j}$로 표현하듯, 큐비트 역시도 상태 $\ket{0}$과 상태 $\ket{1}$의 선형 결합으로 표현할 수 있다.

한편, 벡터는 여러 수의 묶음, 즉 순서쌍으로도 이해할 수 있다. 큐비트 역시도 두 수 $\alpha,\:\beta$의 순서쌍으로 표현할 수 있기 때문에 2차원 벡터이다. 여기서 $\ket{0}=\begin{bmatrix} 1 \\\\ 0\end{bmatrix}$, $\ket{1}=\begin{bmatrix} 0 \\\\ 1\end{bmatrix}$로 정의하면 아래처럼 표현하는 것도 가능하다:

$$
\begin{align}
q=\alpha \ket{0} + \beta \ket{1}=\begin{bmatrix} \alpha\\\beta \end{bmatrix}
\end{align}
$$

## 예시로 알아보는 큐비트

아래의 $\ket{q\_1}, \ket{q\_2}, \ket{q\_3}$는 모두 큐비트를 나타내는 벡터들이다:

$$
\begin{align}\ket{q_1}&=\frac{1}{\sqrt{2}}\ket0+\frac{i}{\sqrt{2}}\ket1=\frac{1}{\sqrt{2}} \begin{bmatrix} 1 \\ i  \end{bmatrix} \\ \ket{q_2}&=\frac{i}{\sqrt{3}}\ket0+\sqrt{\frac{2}{3}}\ket1=\frac{1}{\sqrt{3}} \begin{bmatrix} i \\ \sqrt{2}  \end{bmatrix} \\ \ket{q_3}&=\frac{1}{2}(1+i)\ket0 + \frac{1}{2}(1-i)\ket1=\frac{1}{2}\begin{bmatrix}1+i \\ 1-i \end{bmatrix}\end{align}
$$

식을 2분 정도 지그시 관찰해보기를 바란다.

관찰하다보면, 다소 이상한 점을 발견했을 것이다 - 허수 $i$가 왜 벡터 안에 들어 있는 것인가? 그 이유는 큐비트가 **복소 벡터 공간(Complex Vector Space)**의 원소이기 때문이다. , 큐비트가 기본적으로 $(복소수, 복소수)$의 형태를 가진다.

큐비트가 복소 벡터 공간의 원소라는 사실은 큐비트가 단순하게 "$0$과 $1$ 사이의 그 무언가"보다는 조금 더 많은 의미를 담고 있음을 시사한다. 근데 또 재밌는 것은, 큐비트가 $(복소수, 복소수)$의 형태라면 각 복소수는 $a + bi$의 형태로 나타나기 때문에 실수인 변수 $4$개를 써서 4차원 공간 상의 점으로 표현해야 할 것 같지만, **실제로는 경도와 위도를 이용하여 구면 위의 점으로 표현한다는 것이다**. 아래와 같이, 큐비트의 상태를 표현하기 위한 구면을 블로흐 구면(Bloch Sphere)이라고 한다.

![위키백과 - 블로흐 구면 (Bloch Sphere)](/assets/img/blog/qubit/untitled_qubit-understanding.png)

위키백과 - 블로흐 구면 (Bloch Sphere)

## 몇 가지 의문들

여기까지 해서 두 가지 정도의 의문이 들 수 있겠다:

1. 큐비트가 $(복소수, 복소수)$면 실수 변수 $4$개를 써야 표현이 가능할 것 같은데, 큐비트를 구면 위의 점으로 표현할 수 있는 이유는 무엇일까?
2. 애초에 큐비트를 표현하는데 복소수가 왜 필요한걸까?

### 큐비트를 구면 위의 점으로 표현할 수 있는 이유

우선은 두번째 질문에 대한 답변은 잠시 뒤로 미루고, 첫번째 질문에 집중해보자. 큐비트를 나타내기 위해서 실변수 두 개면 충분하다는데 그 이유가 뭘까?

그 이유는 지금까지 언급하지 않은 두 개의 **제약 조건(constraint)**에 의해, 필요한 변수의 개수가 줄어들었기 때문이다. 여기서 첫번째 제약 조건은 확률의 **정규화(Normalization)**와 관련이 있고, 두번째 제약 조건은 **전역 위상(Global phase)**과 관련되어 있다.

위의 내용을 논하려면 복소 계수의 의미에 대해서 이해해야 한다. 큐비트의 정의에서 $\alpha$는 무엇을 의미하고 $\beta$는 무엇을 의미할까? $\alpha$는 $\ket{0}$과 $\ket{1}$의 선형 결합에서 $\ket{0}$ 앞에 붙은 계수이다. 그렇기 때문에 $\alpha$의 값이 "커진다면", 큐비트에서 상태 $\ket{0}$이 차지하는 비중이 늘어난다는 뜻이다. 즉, 큐비트가 상태 $\ket{0}$으로 측정될 확률이 커진다는 것을 의미한다.

그렇다면 복소수의 “크기”는 어떻게 표현할까? 답은 간단하다: 복소수의 절댓값을 이용하면 된다. 큐비트를 측정했을 시 상태 $\ket{0}$ 또는 $\ket{1}$이 나올 확률은 각 상태 앞에 붙은 복소계수의 절댓값의 제곱이다. 이를 본의 규칙(Born's Rule)이라 부른다:

**본의 규칙 - 큐비트 ver.**

큐비트 $q=\alpha\ket{0}+\beta\ket{1}$에 대해, 측정 이후 큐비트의 상태는 $\ket{0}$ 또는 $\ket{1}$이며, $\ket{0}$으로 측정될 확률은 $\left\|\alpha\right\|^2$, $\ket{1}$로 측정될 확률은 $\left\|\beta\right\|^2$이다.

이렇게 앞의 복소 계수가 각 상태의 측정 확률을 의미한다는 것을 알고 나면, 정규화 조건을 적용할 수 있다. 즉, 입자는 반드시 $\ket{0}$ 또는 $\ket{1}$로 측정되어야 하므로, 두 발견 확률을 더하면 $1$이 되어야 한다. 따라서 아래 식을 얻는다:

$$
\begin{equation} |\alpha| ^2 + |\beta| ^2=1 \end{equation}
$$

이것이 첫번째 제약조건이다. $\alpha = \alpha\_1+\alpha\_2 i$, $\beta = \beta\_1 + \beta\_2 i$라 두면 아래와 같이 변형할 수 있다.

$$
\begin{equation} \alpha_1^2+\alpha_2^2+\beta_1^2+\beta_2^2=1 \end{equation}
$$

아래의 원의 방정식과 구의 방정식, 그리고 식 $(6)$을 함께 보자.

$$
\begin{aligned}\textrm{원의 방정식:}&\;\;x^2+y^2=1 \\ \textrm{구의 방정식:}&\;\;x^2+y^2+z^2=1 \end{aligned}
$$

식 $(6)$이 특별하게 느껴지지 않는가? 원의 방정식과 구의 방정식과 함께 보면 식 $(6)$이 4차원 공간 상의 구, 즉 초구(Hypersphere)의 방정식이라는 사실을 알아차릴 수 있다. 제약 조건(=등식)이 추가될 때마다 자유도는 줄어든다. 즉, 방금 큐비트는 $2$차원 복소 벡터이기에 실변수로는 4차원인 것 같으면서도, 제약 조건에 의해 1개의 자유도가 날아가면서 3개의 변수만으로도 표현할 수 있게 된 것이다.

그러나 여전히 식의 개수가 부족하다. 자유도가 4개에서 3개로 줄어들긴 했지만, 구면 위에서 표현하려면 제약 조건이 한 개가 더 필요한 상황이다. **마지막 제약 조건은 어디에서 오는걸까?** 이 질문에 대한 답은 우리의 두번째 질문이었던 "큐비트를 복소수로 표현해야 하는 이유"에 대해 답하고 나면 명쾌하게 답할 수 있으니, 먼저 두번째 질문에 답해보자.

### 큐비트를 복소수로 표현해야만 하는 이유

이제 두번째 질문에 답해보자. 왜 큐비트는 복소수로 표현해야만 하는가?

두괄식으로 이야기하자면 **"크기와 위상을 동시에 표현하기 위해서"**이다. 여기서 위상(phase)이 무엇인지 이해하려면 (1) 반대 위상($180\degree$ 위상차를 가지는 두 복소수의 예시와 (2) "$90\degree$의 위상차를 가지는 두 복소수의 예시를 살펴보면 도움이 된다.

먼저 복소수에 관한 몇 가지 사실을 정리해보자. 오일러의 공식(Euler's formula)에 의해, 임의의 복소수 $z=a+bi$는 그 크기 $R=\sqrt{a^2+b^2}$로 나누었을 때 편각 $\theta$가 존재하여 

$$
z/R=(a/R)+i(b/R)=\cos{\theta}+i\sin{\theta}=e^{i\theta}
$$

를 만족한다. 양변에 $R$을 곱하면 임의의 복소수는 $z=Re^{i\theta}$의 꼴로 표현할 수 있으며, 이는 크기와 위상을 동시에 나타낸 것이다.

이제 예시에 사용할 세 복소수 $z_0, z_1, z_2$를 정의하자:
$$
\begin{align}
z_0&=1+i \\
z_1&=-1-i\\
z_2&=-1+i\\
\end{align}
$$
위 복소수들을 극좌표 형식으로 나타내면 아래와 같다:
$$
\begin{align}
z_0&=1+i=\sqrt{2}e^{i (\pi/4)} = e^{i (\pi/4)} \cdot \sqrt{2} \\
z_1&=-1-i=\sqrt{2}e^{i (5\pi/4)}= e^{i (\pi/4)} \cdot \sqrt{2}e^{i\pi} = e^{i (\pi/4)} \cdot (-\sqrt{2})\\
z_2&=-1+i=\sqrt{2}e^{i (3\pi/4)}= e^{i (\pi/4)} \cdot\sqrt{2}e^{i \pi/2} = e^{i (\pi/4)} \cdot \sqrt{2}i \\
\end{align}
$$
이제 우리는 이 식을 사용해서 세 개의 상태 $\ket{0}, \ket{1}, \ket{2}$의 중첩 상태를 표현해볼 것이다. 세 개의 상태를 중첩했기 때문에 아래 상태는 "큐비트(Qubit)"가 아닌 "큐트리트(Qutrit)"이라고 불러보자:
$$
\ket{q}=z_0\ket{0}+z_1\ket{1}+z_2\ket{2}
$$
세 상태 $\ket{0}, \ket{1}, \ket{2}$가 마치 $\mathbf{i}$, $\mathbf{j}$, $\mathbf{k}$처럼 서로 직교하고 크기가 1인 벡터라 가정하면, 위의 $q$는 다음과 같은 성분 표기를 갖는다:
$$
\begin{align}
\ket{q}&=z_0\ket{0}+z_1\ket{1}+z_2\ket{2} \\
&=z_0\begin{bmatrix} 1 \\ 0 \\ 0  \end{bmatrix} +z_1\begin{bmatrix} 0 \\ 1 \\ 0  \end{bmatrix}+z_2\begin{bmatrix} 0 \\ 0 \\ 1  \end{bmatrix} \\
&=\begin{bmatrix} z_0 \\ z_1 \\ z_2  \end{bmatrix} = \begin{bmatrix} 1+i \\ -1-i \\ -1+i  \end{bmatrix}
\end{align}
$$
이제 위에서 오일러의 공식을 이용해 나타낸 극좌표 형식을 대입해보자:
$$
\begin{align}
\ket{q}&=\begin{bmatrix} 1+i \\ -1-i \\ -1+i  \end{bmatrix} \\
&=\begin{bmatrix} \sqrt{2}e^{i (\pi/4)} \\ \sqrt{2}e^{i (5\pi/4)} \\ \sqrt{2}e^{i (3\pi/4)}  \end{bmatrix} \\
&=e^{i (\pi/4)}\begin{bmatrix} \sqrt{2} \\ \sqrt{2}e^{i\pi} \\ \sqrt{2}e^{i \pi/2}  \end{bmatrix} \\
&=e^{i (\pi/4)}\begin{bmatrix} \sqrt{2} \\ -\sqrt{2} \\ \sqrt{2}i  \end{bmatrix}
\end{align}
$$

여기서 흥미로운 사실을 발견할 수 있다. 맨 마지막 식을 보면, 전체 상태에 공통으로 $e^{i (\pi/4)}$가 곱해져 있다. 이를 **전역 위상(Global Phase)**이라 부른다. 

### 전역 위상의 의미

전역 위상이 중요한 이유는 **물리적으로 관측 불가능하다**는 것이다. 왜냐하면 측정 확률은 복소계수의 절댓값의 제곱으로 결정되는데, 전역 위상 $e^{i\theta}$의 절댓값은 항상 $1$이기 때문이다:

$$
|e^{i\theta}|^2 = (\cos\theta + i\sin\theta)(\cos\theta - i\sin\theta) = \cos^2\theta + \sin^2\theta = 1
$$

따라서 $\ket{q}$와 $e^{i\theta}\ket{q}$는 물리적으로 동일한 상태를 나타낸다. 이것이 우리가 찾던 두번째 제약 조건이다! 

큐비트 $\ket{q}=\alpha\ket{0}+\beta\ket{1}$을 생각해보자. $\alpha$와 $\beta$를 극좌표로 표현하면:
$$
\begin{align}
\ket{q}&=|\alpha|e^{i\theta_\alpha}\ket{0}+|\beta|e^{i\theta_\beta}\ket{1} \\
&=e^{i\theta_\alpha}\left(|\alpha|\ket{0}+|\beta|e^{i(\theta_\beta-\theta_\alpha)}\ket{1}\right)
\end{align}
$$

여기서 $e^{i\theta_\alpha}$는 전역 위상이므로 무시할 수 있다. 따라서 우리는 실제로 다음 세 개의 변수만 있으면 된다:
- $|\alpha|$ (크기 1)
- $|\beta|$ (크기 1) 
- $\theta_\beta - \theta_\alpha$ (상대 위상)

그런데 정규화 조건 $|\alpha|^2 + |\beta|^2 = 1$에 의해 $|\alpha|$와 $|\beta|$는 독립적이지 않다. 따라서 실제로 필요한 변수는 **2개**뿐이다!

이것이 바로 큐비트를 블로흐 구면(Bloch Sphere)이라는 2차원 구면 위의 점으로 표현할 수 있는 이유이다. 구면 위의 한 점은 경도와 위도, 즉 두 개의 각도 $\theta$(극각)와 $\phi$(방위각)로 나타낼 수 있다:

$$
\ket{q} = \cos\frac{\theta}{2}\ket{0} + e^{i\phi}\sin\frac{\theta}{2}\ket{1}
$$

여기서 $\theta \in [0, \pi]$, $\phi \in [0, 2\pi)$이다.

### 복소수가 필요한 이유

다시 원래 질문으로 돌아가자. 큐비트를 복소수로 표현해야 하는 이유는 무엇일까?

단순히 확률만 표현하려면 실수만으로도 충분할 것이다. 하지만 양자컴퓨팅에서는 **간섭(Interference)** 현상을 활용한다. 두 경로를 통해 같은 상태에 도달할 때, 위상이 같으면 보강 간섭(constructive interference)이 일어나 확률이 증가하고, 위상이 반대면 상쇄 간섭(destructive interference)이 일어나 확률이 감소한다.

예를 들어, $z_0 = 1+i$와 $z_1 = -1-i$를 다시 보자. 이 두 복소수는 $180\degree$ 위상차를 가지고 있다 ($z_1 = e^{i\pi} \cdot z_0 = -z_0$). 만약 어떤 과정을 거쳐 이 두 진폭이 더해진다면 $z_0 + z_1 = 0$이 되어 완전히 상쇄된다. 

반면 $z_0 = 1+i$와 $z_2 = -1+i$는 $90\degree$ 위상차를 가진다 ($z_2 = i \cdot z_0$). 이들을 더하면 $z_0 + z_2 = 2i$로 소멸하지 않는다.

이러한 위상 정보를 표현하고 간섭을 활용하기 위해서는 **복소수가 필수적**이다. 실수만으로는 위상 정보를 담을 수 없기 때문이다.

## 결론

지금까지 양자컴퓨팅의 기본 단위인 큐비트에 대해 알아보았다. 핵심 내용을 정리하면:

1. **큐비트는 $\ket{0}$과 $\ket{1}$의 양자 중첩 상태**이며, 측정하면 둘 중 하나로 확정된다.

2. **큐비트는 2차원 복소 벡터 공간의 원소**로, $\ket{q}=\alpha\ket{0}+\beta\ket{1}$ 형태로 표현된다.

3. **측정 확률은 복소계수의 절댓값의 제곱**으로 결정된다 (본의 규칙): $P(0)=|\alpha|^2$, $P(1)=|\beta|^2$

4. **정규화 조건**($|\alpha|^2 + |\beta|^2 = 1$)과 **전역 위상의 무관성**에 의해, 큐비트는 2개의 실수 매개변수로 표현 가능하다.

5. 따라서 큐비트는 **블로흐 구면** 위의 점으로 시각화할 수 있다.

6. **복소수는 위상 정보를 담기 위해 필수적**이며, 이를 통해 양자 간섭 현상을 활용할 수 있다.

큐비트는 고전 비트보다 복잡하지만, 바로 그 복잡성이 양자컴퓨터의 강력한 계산 능력의 원천이 된다. 중첩과 간섭을 활용하여, 양자컴퓨터는 특정 문제들에서 고전 컴퓨터를 능가하는 성능을 보일 수 있다.

---

**다음 글에서는**: 큐비트에 대한 연산, 즉 양자 게이트(Quantum Gates)에 대해 알아볼 예정이다.

**관련 글**: [Optical Quantum Gates](/blog/2021/qubit-optical-quantum-gates)